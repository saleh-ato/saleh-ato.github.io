(()=>{(function(){"use strict";let s=0,i=!1,l=100,n=document.getElementById("dock");if(!n)return;function f(){let t=window.pageYOffset||document.documentElement.scrollTop;t<s?i=!0:i=!1,i&&t>l?h():(!i||t<=l)&&r(),s=t}function h(){n.classList.remove("translate-y-24","opacity-0","pointer-events-none"),n.classList.add("translate-y-0","opacity-100","pointer-events-auto")}function r(){n.classList.remove("translate-y-0","opacity-100","pointer-events-auto"),n.classList.add("translate-y-24","opacity-0","pointer-events-none")}function g(t,o){let e;return function(){let c=arguments,p=this;e||(t.apply(p,c),e=!0,setTimeout(()=>e=!1,o))}}window.addEventListener("scroll",g(f,16));let d=document.getElementById("dock-back");d&&d.addEventListener("click",function(t){t.preventDefault();try{if(window.history.length>1&&document.referrer){let o=new URL(document.referrer),e=new URL(window.location.href);if(o.origin===e.origin){window.history.back(),console.log("\u8FD4\u56DE\u6309\u94AE\u70B9\u51FB - \u6D4F\u89C8\u5668\u8FD4\u56DE");return}}window.location.href="/",console.log("\u8FD4\u56DE\u6309\u94AE\u70B9\u51FB - \u8DF3\u8F6C\u9996\u9875")}catch(o){console.warn("\u8FD4\u56DE\u529F\u80FD\u51FA\u9519\uFF0C\u8DF3\u8F6C\u5230\u9996\u9875:",o),window.location.href="/"}});let a=document.getElementById("dock-toc");a&&a.addEventListener("click",function(t){t.preventDefault();function o(e=5){window.TOC&&window.TOC.initialized?(window.Search&&window.Search.isVisible&&window.Search.isVisible()&&window.Search.hide(),window.TOC.toggle()):window.TOC&&!window.TOC.initialized&&e>0?setTimeout(()=>o(e-1),200):!window.TOC&&e>0&&setTimeout(()=>o(e-1),200)}o()});let w=document.getElementById("dock-search");w&&w.addEventListener("click",function(t){t.preventDefault();function o(e=5){window.Search?(window.TOC&&window.TOC.initialized&&window.TOC.isVisible&&window.TOC.isVisible()&&window.TOC.hide(),window.Search.isVisible&&window.Search.isVisible()?window.Search.hide():window.Search.show()):e>0&&setTimeout(()=>o(e-1),200)}o()});let m=document.getElementById("dock-comments");m&&m.addEventListener("click",function(t){t.preventDefault();try{let o=["#comments",".comments","#giscus-container",".giscus","#disqus_thread",".disqus","#utterances",".utterances","#waline",".waline","[data-comments]",".comment-section",".post-comments"],e=null;for(let c of o)if(e=document.querySelector(c),e){console.log(`\u627E\u5230\u8BC4\u8BBA\u533A\u57DF: ${c}`);break}e?(e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),console.log("\u8BC4\u8BBA\u6309\u94AE\u70B9\u51FB - \u6EDA\u52A8\u5230\u8BC4\u8BBA\u533A\u57DF")):(window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),console.log("\u8BC4\u8BBA\u6309\u94AE\u70B9\u51FB - \u672A\u627E\u5230\u8BC4\u8BBA\u533A\u57DF\uFF0C\u6EDA\u52A8\u5230\u9875\u9762\u5E95\u90E8"))}catch(o){console.warn("\u6EDA\u52A8\u5230\u8BC4\u8BBA\u533A\u57DF\u5931\u8D25:",o),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}});let u=document.getElementById("dock-top");u&&u.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),r(),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&console.log("Dock initialized successfully - positioned at perfect center bottom")})();})();
